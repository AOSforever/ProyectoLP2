<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <th:block th:include="~{layout/principal.html :: headerfiles}"></th:block>
        <title>Vista de edicion del Empleado</title>
    </head>
    <body id="page-top"> 
        <div id="wrapper"> 
            <ul th:replace="~{layout/principal :: navbar}"></ul>
            
            <div id="content-wrapper" class="d-flex flex-column">
                <div id="content">
                    <nav th:replace="~{layout/principal :: topbar('Buscar por nombre del empleado','employee_by_name','/employee/search')}"></nav>
                        <div class="container">
                            <div class="row">
                                <div id="FormContainer" class="col-lg-6 col-md-6 col-sm-6 w-100 container justify-content-center card">
                                    <br>
                                    <h1 class="text-center">REGISTRAR</h1>
                                    <div class="card-body">
                                        <form 
                                            th:action="@{/employee/save_employee}" 
                                            th:object="${employee}"
                                            method="post"
                                            enctype="multipart/form-data"
                                        >
                                        <div class="form-group" style="position: absolute; top: 0;">
                                            <label>ID del empleado</label> 
                                            <input 
                                                type="text"
                                                th:field="*{idEmployee}"
                                                class="form-control" 
                                                readonly
                                                placeholder="Id del empleado"
                                                value="1"
                                            >
                                        </div>
                                        <div class="d-flex">
                                            <div class="form-group flex-grow-1 mr-2">
                                                <label>Nombre</label> 
                                                <input 
                                                    type="text"
                                                    th:field="*{employeeName}"
                                                    class="form-control" 
                                                    placeholder="Nombre completo"
                                                >
                                            </div>
                                            <div class="form-group flex-grow-1">
                                                <label>Apellido</label> 
                                                <input 
                                                    type="text"
                                                    name="apellidoEmpleado" 
                                                    th:field="*{employeeLastName}"
                                                    class="form-control" 
                                                    placeholder="Apellido completo"
                                                    value="Gonzalez"
                                                >
                                            </div>
                                        </div>
                                            <div class="d-flex">
                                                <div class="form-group flex-grow-1 mr-2">
                                                    <label>Correo electronico</label> 
                                                    <input 
                                                        type="text"
                                                        name="correoEmpleado" 
                                                        th:field="*{employeeEmail}"
                                                        class="form-control" 
                                                        placeholder="Correo electronico personal"
                                                        value="mathiasalayo@gmail.com"
                                                    >
                                                </div>
                                                <div class="form-group flex-grow-1">
                                                    <label>Direccion</label> 
                                                    <input 
                                                        type="text"
                                                        name="direccionEmpleado"
                                                        th:field="*{employeeAddress}"
                                                        class="form-control" 
                                                        placeholder="Direccion exacta"
                                                        value="Jr Perlas 2743"
                                                    >
                                                </div>
                                            </div>
                                            <div class="d-flex">
                                                <div class="form-group flex-grow-1 mr-2">
                                                    <label>Usuario</label> 
                                                    <input 
                                                        type="text"
                                                        name="correoEmpleado" 
                                                        th:field="*{employeeUserName}"
                                                        class="form-control" 
                                                        placeholder="Nombre de usuario"
                                                        value="mathiasalayo"
                                                    >
                                                </div>
                                                <div class="form-group flex-grow-1">
                                                    <label>Contraseña</label> 
                                                    <input 
                                                        type="text"
                                                        name="direccionEmpleado"
                                                        th:field="*{employeeUserPassword}"
                                                        class="form-control" 
                                                        placeholder="Contraseña del usuario"
                                                        value="123456"
                                                    >
                                                </div>
                                            </div>
                                            <div class="d-flex">

                                                <div class="form-group flex-grow-1 mr-2 card-form-id">
                                                    <div class="card-form-id-img">
                                                    </div>
                                                    <div>
                                                        <input 
                                                            type="text" 
                                                            name="dniEmpleado"
                                                            th:field="*{employeeDNI}" 
                                                            placeholder="Digite el dni"
                                                            value="76211321"
                                                        >
                                                    </div>
                                                </div>

                                                
                                                <div class="form-group flex-grow-1 mr-2 card-form-id">
                                                    <div class="card-form-id-img">
                                                    </div>
                                                    <div>
                                                        <input 
                                                            type="text"
                                                            name="telefonoEmpleado" 
                                                            th:field="*{employeePhone}"
                                                            class="form-control" 
                                                            placeholder="Brinde el telefono movil"
                                                            value="987654321"
                                                        >
                                                    </div>
                                                </div>
                                                
                                                <div class="form-group flex-grow-1 mr-2 card-form-id">
                                                    <div class="card-form-id-img">
                                                    </div>
                                                    <div>
                                                        <input 
                                                            type="text"
                                                            name="tipoUsuario" 
                                                            th:field="*{employeeUserType}"
                                                            class="form-control" 
                                                            placeholder="Que tipo de usuario es?"
                                                            value="Empleado"
                                                        >
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="profile-custom">
                                                <div class="profile-custom-choose">

                                                    <h1>Coloca la foto!</h1>

                                                    <input type="url" th:field="*{employeeUserProfile}" placeholder="Pega la URL de la foto que desees!">

                                                    <button type="button">Subir Imagen</button>

                                                    <img src="https://img.freepik.com/vector-premium/nino-dibujos-animados-tomando-foto_29937-10897.jpg" alt="" srcset="">
                                                </div>
                                                <div class="profile-custom-view">
                                                    <img th:src="*{employeeUserProfile}" height="100%">
                                                </div>
                                            </div>

                                            <div class="box-footer d-flex ">
                                                <button type="submit" class="btn w-100 border-1 border-warning mr-2">Guardar</button>
                                                <div>
                                                    <a th:href="@{/employee/list}" class="btn btn-danger">
                                                        Volver 
                                                    </a>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                </div> 
            </div>	
        </div>

        <script>


            document.querySelector('.profile-custom-choose > button').addEventListener('click', function(e) {
                e.preventDefault();

                console.log("Funcionando");
                let url = document.querySelector('input[type="url"]').value;
                document.querySelector('.profile-custom-view img').src = url;
            });

        </script>
        <!-- <th:block th:include="~{layout/principal.html :: scripts}"></th:block> -->
    </body>
</html>